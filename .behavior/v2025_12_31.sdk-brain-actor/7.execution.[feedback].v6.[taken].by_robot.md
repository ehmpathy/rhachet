# feedback v6 response

## checklist

- [x] blocker.1: no skills without schemas
  - already implemented in v5
  - `findActorRoleSkillBySlug` throws `BadRequestError` if skill lacks schema in `role.skills`

- [x] blocker.2: use `Actor.typed()` instead of `as Actor<TRole>`
  - added `Actor.typed<TRole>()` factory method to Actor.ts
  - updated genActor.ts to use `Actor.typed()` for proper type preservation

---

## execution

### blocker.1 ✓

already completed in feedback v5:
- `ActorRoleSkill.schema` is now required (not optional)
- `findActorRoleSkillBySlug` throws `BadRequestError` for skills without schemas
- test case5 in `findActorRoleSkillBySlug.test.ts` verifies this behavior

### blocker.2 ✓

implemented:

1. added `Actor.typed<TRole>()` factory method to `src/domain.objects/Actor.ts`:
```typescript
public static typed<TRole extends Role>(input: Actor<TRole>): Actor<TRole> {
  return new Actor<TRole>(input);
}
```

2. updated `src/domain.operations/actor/genActor.ts` to use `Actor.typed()`:
```typescript
// return actor with bound methods via Actor.typed() for strong type preservation
return Actor.typed<TRole>({
  role: input.role,
  brains: input.brains,
  act,
  run,
  ask,
});
```

---

## verification

- `npm run test:types` ✓ passes
- `npm run test:unit -- genActor.test.ts` ✓ 21 tests pass
- `npm run test:unit -- findActorRoleSkillBySlug.test.ts` ✓ 9 tests pass
