# simplicity review: blueprint v1 (final)

review for opportunities to simplify while still able to fulfill criteria and vision.

---

## current complexity

| component | count | purpose |
|-----------|-------|---------|
| domain operations | 14 files | modular, testable functions |
| format functions | 3 files | reusable tree/flat/json |
| contract commands | 2 files | completions + skills subcommand |
| types | 1 file | 5 types |
| validation | 1 file | single helper |

---

## simplification analysis

### already simplified

1. **reuses extant code**
   - discoverSkillExecutables: not duplicated
   - bin dispatcher: extends extant pattern

2. **combined types** (gap.16/17)
   - SkillWithEntry avoids parallel arrays
   - reduces coordination bugs

3. **extracted helpers** (gap.19)
   - getAllMdFilesRecursive: reused by getAllBriefFiles
   - single validation helper: assertValidOption

4. **functional composition** (gap.30/36/37)
   - flatMap instead of nested loops
   - reduce for groupBy
   - no array mutations

### potential simplifications evaluated

| idea | pros | cons | verdict |
|------|------|------|---------|
| merge formatAsTree/Flat/Json | fewer files | loses reusability, violates single responsibility | keep separate |
| inline getSnippetFromContent | one less function | harder to test, less readable | keep extracted |
| skip brief search | 3 fewer files | violates criteria (search briefs) | cannot remove |
| static completion (cache) | simpler zsh code | breaks cwd-aware criteria | cannot change |

### complexity justified by criteria

| criteria requirement | implementation complexity |
|---------------------|---------------------------|
| cwd-aware completions | dynamic --list per tab press |
| search both skills and briefs | separate match functions |
| tree/flat/json output | 3 format functions |
| error validation | assertValidOption |

---

## conclusion

the blueprint is already at minimum complexity for the criteria requirements.

no further simplifications possible without a criteria or vision violation.

**simplification opportunities: none**

ready for all-simple-junior promise.
