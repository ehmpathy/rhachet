wish =

today, when we link a role into the .agent/ dir, we make the contents of that role not writeable

however, we want to make sure that if we are currently in that role's repo, that we dont do that

cause that makes the /dist dir not writable

and ends up causing errors on subsequent pnpm installs like


rhachet-roles-ehmpathy.vlad.role-hooks on vlad/role-hooks [$✘!+] is 1.17.25 took 9.0s at 14:44:16
➜ npm install rhachet-brains-anthropic
 WARN  3 deprecated subdependencies found: @types/joi@17.2.3, glob@7.2.3, inflight@1.0.6
Packages: +8
++++++++
 ERR_PNPM_EACCES  EACCES: permission denied, rmdir '/home/vlad/git/ehmpathy/_worktrees/rhachet-roles-ehmpathy.vlad.role-hooks/node_modules/.pnpm/rhachet-roles-ehmpathy@file+_@anthropic-ai+sdk@0.71.2_zod@3.25.76__@types+node@22.15.21_hono@4.11.3_zod@3.25.76/node_modules/rhachet-roles-ehmpathy/dist/domain.roles/mechanic/briefs/.archive'
Progress: resolved 1059, reused 980, downloaded 0, added 0


---

specifically, that repo is called `rhachet-roles-ehmpathy` and exposes the `mechanic` repo

and declares


    "rhachet-roles-ehmpathy": "file:.",

to reference itself in there
