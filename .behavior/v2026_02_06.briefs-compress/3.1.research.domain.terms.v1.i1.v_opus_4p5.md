# domain terms research: briefs compression

## context

the wish is to support briefs compression — `.md` files (human-readable) can have `.md.comp` counterparts (machine-optimized). robots load the compressed variant; humans author the source.

---

## domain objects required

### 1. the source file

**what it is:** the human-readable brief in full prose, examples, and verbose explanations.

**current term:** `.md` file

**parallel concepts from other domains:**

| domain | term | description | source |
|--------|------|-------------|--------|
| javascript | source file | the readable `.js` before minification | [1] |
| architecture | construction documents | the detailed plans before simplification | [2] |
| culinary | full sauce | the liquid before reduction concentrates it | [3] |
| medical | full paper | the complete article before abstract distillation | [4] |
| perfumery | plant material | the raw input before distillation extracts essence | [5] |

### 2. the compressed file

**what it is:** the machine-optimized brief with telegraphic prose, stripped articles, dense signal.

**current term in vision:** `.md.comp`

**parallel patterns for derived files:**

| domain | source | derived | convention |
|--------|--------|---------|------------|
| javascript | `app.js` | `app.min.js` | suffix before extension [1] |
| sourcemaps | `app.js` | `app.js.map` | append new extension [6] |
| css | `styles.css` | `styles.min.css` | suffix before extension [1] |
| culinary | sauce | reduction/glaze | entirely new term [3] |
| medical | paper | abstract | entirely new term [4] |
| perfumery | plant | essence/extract | entirely new term [5] |

**key insight from telegraph history:**

> "as telegrams have been traditionally charged by the word, messages were often abbreviated to pack information into the smallest possible number of words, in what came to be called 'telegram style'" [7]

the term "telegraphic" predates LLMs and describes exactly this compression pattern — remove articles, conjunctions, auxiliaries while preserve semantic content.

### 3. the compression process

**what it is:** the transformation from human-readable to machine-optimized.

**parallel concepts:**

| domain | term | what it does | source |
|--------|------|---------|--------|
| javascript | minification | remove whitespace, comments, shorten names | [1] |
| culinary | reduction | boil down to concentrate flavor | [3] |
| perfumery | distillation | extract essence from raw material | [5] |
| medical | abstract | condense to core findings | [4] |
| linguistics | semantic compression | compact lexicon while maintain semantics | [8] |

### 4. the relationship between source and compressed

**what it is:** the pair where compressed is derived from source.

**parallel concepts:**

| domain | term | description | source |
|--------|------|-------------|--------|
| build systems | derived artifact | output generated from source input | [9] |
| sourcemaps | map | link between minified and original | [6] |
| architecture | as-built documents | derived from design documents | [2] |

---

## term options analysis

### for the compressed file extension

#### option A: `.md.comp` (vision default)

**pattern:** append new extension

**pros:**
- parallel to `.js.map` sourcemap convention [6]
- clearly indicates "this is a compressed `.md`"
- filesystem tools sort `.md` and `.md.comp` together

**cons:**
- `.comp` is not a recognized extension
- could be confused with "compilation" rather than "compression"
- 5 extra chars per path in logs/output

#### option B: `.min.md`

**pattern:** suffix before extension (like `.min.js`)

**pros:**
- parallel to established javascript convention [1]
- `min` clearly signals "minified"
- industry-standard pattern

**cons:**
- `.md` files are not code; "minified" implies code transformation
- breaks adjacency in filesystem sort (`foo.md` vs `foo.min.md`)
- less clear that it derives from `.md`

#### option C: `.md.tsc`

**pattern:** append domain-specific extension

**pros:**
- TSC = Telegraphic Semantic Compression (the actual technique) [10]
- precise technical term
- 4 chars (same as `.comp`)

**cons:**
- TSC is niche; requires explanation
- could be confused with TypeScript Compiler (`tsc`)

#### option D: `.md.dense`

**pattern:** append descriptive extension

**pros:**
- "dense" describes the output characteristic
- no ambiguity with other tools
- self-evident

**cons:**
- not established convention
- slightly longer (5 chars)
- describes characteristic, not process

#### option E: `.md.tele`

**pattern:** append abbreviated term

**pros:**
- short (4 chars)
- references "telegraphic" — the historical precedent [7]
- memorable once explained

**cons:**
- not immediately obvious
- could be confused with "telephone"

### recommendation: `.md.comp`

rationale:
1. **parallel to sourcemaps** — `.js.map` convention is well-established [6]
2. **adjacency preserved** — `foo.md` and `foo.md.comp` sort together
3. **self-evident** — "comp" clearly suggests "compressed"
4. **vision already uses it** — consistency with prior documentation

---

### for the compression process

#### option A: `compress`

**command:** `rhachet briefs compress`

**pros:**
- direct, technical, accurate
- parallel to gzip/brotli terminology
- no metaphor to explain

**cons:**
- generic; doesn't convey semantic preservation

#### option B: `reduce`

**command:** `rhachet briefs reduce`

**pros:**
- parallel to culinary reduction — concentrate essence [3]
- implies "less volume, same flavor"
- familiar metaphor

**cons:**
- could imply information loss
- less technical precision

#### option C: `distill`

**command:** `rhachet briefs distill`

**pros:**
- parallel to perfumery — extract essence [5]
- implies "extract the essential, discard the noise"
- evocative and memorable
- "distillation renders all the fat out of a body of ideas, boils it down to the very essence of its sense" [5]

**cons:**
- metaphorical; may need explanation
- 7 chars vs 8 for compress

#### option D: `condense`

**command:** `rhachet briefs condense`

**pros:**
- direct intent: make denser without loss
- parallel to condensed summaries
- neutral, no strong metaphor

**cons:**
- generic
- 8 chars

### recommendation: `compress`

rationale:
1. **technical precision** — accurate description of the operation
2. **no metaphor debt** — doesn't require explanations of culinary/chemistry parallels
3. **vision already uses it** — `briefs compress` is in the documentation
4. **industry alignment** — matches minification/compression terminology [1]

---

## domain object definitions

### entities

| entity | definition | unique key | notes |
|--------|------------|------------|-------|
| `BriefSource` | human-readable `.md` file | path | the authoritative source |
| `BriefCompressed` | machine-optimized `.md.comp` file | path | derived from source |

### literals

| literal | definition | example |
|---------|------------|---------|
| `BriefPath` | path to a brief file (either variant) | `briefs/practices/code.prod/rule.require.arrow-only.md` |
| `CompressionRatio` | tokens saved as percentage | `0.47` (47% reduction) |

### events

| event | when | payload |
|-------|------|---------|
| `BriefCompressed` | after compress command | `{ source: path, output: path, tokensBefore, tokensAfter }` |
| `OrphanCompressedDetected` | boot finds `.comp` without `.md` | `{ orphan: path }` |
| `StaleCompressedDetected` | (future: lint) `.comp` older than `.md` | `{ source: path, compressed: path }` |

---

## relationship structure

```
BriefSource (.md)
    │
    ├── 1:0..1 ──► BriefCompressed (.md.comp)
    │               └── derived from source
    │               └── orphan if source deleted = failfast
    │
    └── attributes
        ├── path
        ├── content
        └── tokenCount
```

**treestruct of domain:**

```
briefs/
  ├── {category}/
  │   ├── {topic}/
  │   │   ├── rule.require.foo.md          # source
  │   │   └── rule.require.foo.md.comp     # compressed (derived)
```

---

## common terminology in the wild

### how folks talk about this

from TSC literature [10]:
> "TSC transforms verbose natural language into dense semantic packets, strips away grammatical scaffolds while preserves the core informational payload"

from wikipedia on semantic compression [8]:
> "semantic compression is a process that compacts a lexicon used to build a textual document via reduced language heterogeneity, while maintained text semantics"

from linguistic compression research [11]:
> "compression rules are defined for the left words in order to handle every occurrence of a less frequent hyponym as its hypernym in output text"

### telegram style etymology [7]

the term "telegraphic" originates from:
1. **economics** — telegrams charged by word; users stripped filler
2. **child development** — children speak telegraphically: "cat here" means "the cat is here"
3. **military precision** — STOP between sentences for unambiguous parse

this etymology supports the term `.comp` (compressed) or `.tele` (telegraphic).

---

## final recommendations

### file extensions

| role | extension | example |
|------|-----------|---------|
| source (human) | `.md` | `rule.require.foo.md` |
| compressed (robot) | `.md.comp` | `rule.require.foo.md.comp` |

### command

| action | command |
|--------|---------|
| generate compressed | `rhachet briefs compress` |

### terms glossary

| term | definition |
|------|------------|
| **brief source** | human-readable `.md` file; the authoritative original |
| **brief compressed** | machine-optimized `.md.comp` file; derived artifact |
| **compression** | transformation from source to compressed |
| **orphan** | `.md.comp` without matched `.md` source |
| **stale** | `.md.comp` older than its `.md` source |
| **TSC** | telegraphic semantic compression — the technique used |

---

## citations

1. [Minification - Wikipedia](https://en.wikipedia.org/wiki/Minification_(programming))
2. [Blueprint - Wikipedia](https://en.wikipedia.org/wiki/Blueprint)
3. [Reduction in cuisine - Wikipedia](https://en.wikipedia.org/wiki/Reduction_(cooking))
4. [The Principles of Biomedical Scientific Prose: Abstract and Keywords - PMC](https://pmc.ncbi.nlm.nih.gov/articles/PMC7144240/)
5. [The Process of Distillation: Get to the essence of things - Stanford Report](https://news.stanford.edu/stories/2001/06/process-distillation-getting-essence-things)
6. [Source map - MDN Glossary](https://developer.mozilla.org/en-US/docs/Glossary/Source_map)
7. [Telegraphy - Wikipedia](https://en.wikipedia.org/wiki/Telegraphy)
8. [Semantic compression - Wikipedia](https://en.wikipedia.org/wiki/Semantic_compression)
9. [Filename extension - Wikipedia](https://en.wikipedia.org/wiki/Filename_extension)
10. [Telegraphic Semantic Compression (TSC) - DEV Community](https://dev.to/devasservice/telegraphic-semantic-compression-tsc-a-semantic-compression-method-for-llm-contexts-1akl)
11. [Semantic Compression With Large Language Models - arXiv](https://arxiv.org/abs/2304.12512)
