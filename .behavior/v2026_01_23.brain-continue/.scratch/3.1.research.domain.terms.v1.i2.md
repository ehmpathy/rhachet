# domain terms research: brain-continue (v1.i2)

extends v1.i1 with evaluation of BrainEpisode/BrainExchange proposal

---

## tldr

| dimension | Session/Turn | Episode/Exchange |
|-----------|--------------|------------------|
| industry alignment | ★★★★★ | ★★★☆☆ |
| precision | ★★★☆☆ | ★★★★★ |
| compaction fit | ★★★☆☆ | ★★★★★ |
| domain richness | ★★★☆☆ | ★★★★★ |

**we prefer precision and semantic richness over industry alignment.**

industry terms are generic and overloaded. rhachet terms should be unambiguous and carry domain weight. Episode/Exchange wins.

---

## 1. the proposal

consider:
- `BrainSession` → `BrainEpisode`
- `BrainTurn` → `BrainExchange`

---

## 2. term comparison

### for "the brain's record of a conversation"

| candidate | pros | cons |
|-----------|------|------|
| `BrainSession` | matches SIP semantics; matches Claude SDK; intuitive "session" concept | "session" overloaded in web contexts (http session, user session) |
| `BrainEpisode` | healthcare parallel (episode of care); series parallel (tv episodes); compaction = new episode; implies bounded scope with continuity | may confuse with "episode of a series" in entertainment; less common in tech apis |

### for "one request-response pair"

| candidate | pros | cons |
|-----------|------|------|
| `BrainTurn` | linguistic precedent (turn exchange); matches conversation analysis | "turn" may imply only one direction; less explicit about bidirectional nature |
| `BrainExchange` | explicit input-output semantics; captures bidirectional nature; healthcare parallel (exchange of information) | slightly longer; less common in llm api terminology |
| `BrainEncounter` | healthcare parallel (single encounter); intuitive | implies contact event, not necessarily bidirectional; singular may suggest one-shot |

---

## 3. the episode analogy

### tv series parallel

| series concept | brain parallel | fit |
|----------------|----------------|-----|
| series | the brain's full history with a user | ✓ |
| season | — | — |
| episode | one bounded conversation (BrainEpisode) | ✓ |
| scene | one exchange within episode (BrainExchange) | ✓ |

**insight:** episodes are self-contained but connected. each episode has a start, middle, end. episodes can be watched independently but gain significance in sequence.

### compaction parallel

when context window fills, compaction creates a summary and starts fresh:
- old episode ends
- new episode begins with summary as "previously on..."
- this maps cleanly to tv episodes with "previously on" recaps

```
BrainEpisode[0]: turns 0-50, then compacted
BrainEpisode[1]: starts with summary, turns 51-100
```

the "episode" frame makes compaction feel natural rather than disruptive.

### healthcare parallel

from the research in v1.i1:

> "an encounter is a single event in which care is given... an episode is a group of more than one encounter"

this maps to:
- BrainExchange = one request-response (like one encounter)
- BrainEpisode = chain of exchanges (like episode of care)

---

## 4. the exchange advantage

"exchange" is more precise than "turn" for llm interactions:

| aspect | turn | exchange |
|--------|------|----------|
| directionality | implies one direction | explicit bidirectional |
| completeness | one party's contribution | full round-trip |
| llm fit | "user turn" vs "assistant turn" | "one exchange" = user + assistant |

an exchange is always: `user says X → brain says Y`

this matches the actual api semantics better than "turn" which linguistically refers to one party's contribution.

---

## 5. comparative evaluation

### BrainSession + BrainTurn (v1.i1 recommendation)

| dimension | score | rationale |
|-----------|-------|-----------|
| industry alignment | ★★★★★ | matches Claude SDK, SIP, web terminology |
| intuition | ★★★★☆ | "session" is familiar; "turn" requires context |
| precision | ★★★☆☆ | "session" overloaded; "turn" implies one direction |
| compaction fit | ★★★☆☆ | "new session" works but feels like restart |
| domain richness | ★★★☆☆ | generic terms without strong metaphor |

### BrainEpisode + BrainExchange (v1.i2 proposal)

| dimension | score | rationale |
|-----------|-------|-----------|
| industry alignment | ★★★☆☆ | healthcare uses episode/encounter; less common in llm apis |
| intuition | ★★★★☆ | "episode" familiar from tv; "exchange" self-explanatory |
| precision | ★★★★★ | "episode" implies bounded continuity; "exchange" is bidirectional |
| compaction fit | ★★★★★ | "new episode" with recap is natural frame |
| domain richness | ★★★★★ | rich metaphor from tv series and healthcare |

---

## 6. terms in context

### with Session/Turn

```ts
const { session, output } = await brain.ask({ say: 'what is a cat?' });
await brain.ask({ in: { session }, say: 'what is a dog?' });

// session.turns = [turn0, turn1]
```

### with Episode/Exchange

```ts
const { episode, output } = await brain.ask({ say: 'what is a cat?' });
await brain.ask({ in: { episode }, say: 'what is a dog?' });

// episode.exchanges = [exchange0, exchange1]
```

both read naturally. "episode" may feel slightly more novel but is equally clear.

---

## 7. the compaction story

### with Session

```
Session[0]: 50 turns, context full → compact
Session[1]: starts fresh with summary

"we started a new session with a summary of the prior session"
```

feels like a restart. the continuity is implicit.

### with Episode

```
Episode[0]: 50 exchanges, context full → compact
Episode[1]: starts with "previously on..." summary

"we started a new episode with a recap of prior events"
```

feels like continuation. the tv metaphor makes the transition natural.

---

## 8. recommendation

### updated recommendation: BrainEpisode + BrainExchange

| concept | recommended term | rationale |
|---------|------------------|-----------|
| brain's record of conversation | `BrainEpisode` | bounded continuity; compaction = new episode; rich metaphor |
| one request-response pair | `BrainExchange` | explicit bidirectional; matches actual api semantics |

### term relationships (updated)

```
Weave (navigator)
  └── contains Thread[] (thought routes)
      └── contains Stitch[] (steps)

BrainEpisode (brain)
  └── contains BrainExchange[] (request-response pairs)
```

### the vocabulary separation (updated)

| who | what they own | their terms |
|-----|---------------|-------------|
| navigator | orchestration structure | Weave, Thread, Stitch |
| brain | conversation state | Episode, Exchange |

---

## 9. open question

should we keep the `Brain` prefix?

| option | example | rationale |
|--------|---------|-----------|
| with prefix | `BrainEpisode`, `BrainExchange` | explicit ownership; no ambiguity with other episodes |
| without prefix | `Episode`, `Exchange` | cleaner; context makes ownership clear |

recommendation: keep prefix for domain objects, allow shorthand in conversation.

```ts
// formal domain object
class BrainEpisode extends DomainEntity<BrainEpisode> { ... }

// casual reference in code
const { episode } = await brain.ask({ ... });
```
