# research: domain terms for rhachet/keyrack

> what should we call the domain objects that fulfill the keyrack vision?

---

## domain objects identified

from the wish, vision, and criteria, these domain objects are required:

| #  | concept                          | what it represents                                                    |
| -- | -------------------------------- | --------------------------------------------------------------------- |
| 1  | the system itself                | the credential firewall (the cli, the sdk, the action)                |
| 2  | per-repo declaration             | the yaml file that declares what credentials a repo needs             |
| 3  | individual key declaration       | one entry within the per-repo declaration (name + mechanism)          |
| 4  | storage backend                  | where a credential is persisted on a machine (1password, os, etc)     |
| 5  | resolution mechanism             | how to translate raw credentials into shortest-lived form             |
| 6  | per-machine config               | the map of which keys are stored where on this device                 |
| 7  | individual config entry          | one entry within the per-machine config (key â†’ vault reference)       |
| 8  | the resolved credential value    | the short-lived, safe value that gets exported to env                 |
| 9  | the resolution action            | the verb for what the firewall does to a raw credential               |
| 10 | status of a credential           | the state of a key at resolution time (granted, locked, etc)          |

---

## 1. the system: `keyrack`

### analysis

the term `keyrack` is already established in the wish and vision. it maps well:

| domain        | parallel term    | what it means                                                    |
| ------------- | ---------------- | ---------------------------------------------------------------- |
| physical      | keyrack         | "a number of metal rings connected together [...] used for [to hold] your keys together" [1] |
| macos         | Keyrack         | "the macOS credential management system that stores account names, passwords, private keys" [2] |
| linux         | keyring          | "a collection of keys that can be treated as a unit" [3]         |
| windows       | Credential Vault | the windows credential storage system [4]                        |

### alternatives considered

| term              | pros                                                    | cons                                                     |
| ----------------- | ------------------------------------------------------- | -------------------------------------------------------- |
| `keyrack`        | established physical metaphor, macos precedent          | slightly overloaded (macos specific association)         |
| `keyring`         | linux precedent, "a collection of keys as a unit" [3]   | less common in general usage than keyrack               |
| `credentialStore` | precise, no ambiguity                                   | clinical, verbose, no metaphor richness                  |
| `vault`           | hashicorp precedent, strong security connotation        | conflicts with storage backend concept (see #4)          |

### recommendation

**`keyrack`** â€” already established, strong physical metaphor, maps to the "ring that holds keys together" rather than to the storage location or the individual item. the keyrack is the organizer, not the safe.

---

## 2. per-repo declaration: the `.agent/keyrack.yml` file

this is the file that declares what credentials a repo needs. it prescribes key names and mechanisms.

### parallel domain analysis

| domain        | parallel term     | what it means                                                                         |
| ------------- | ----------------- | ------------------------------------------------------------------------------------- |
| locksmith     | **key schedule**  | the master list of all keys, locks, and access levels for a structure [5]             |
| pharmacy      | **formulary**     | "a list of pharmaceutical drugs, often decided upon by a group of people" [6]         |
| pharmacy      | **prescription**  | "an order for drugs, written by a duly licensed practitioner" [7]                     |
| culinary      | **mise en place** | "[to assemble and set up] all that is required to prepare a dish" [8]                 |
| software      | **manifest**      | "specifies the expected structure of a computer program to be consumed by another" [9]|
| kubernetes    | **ExternalSecret**| CRD that "defines what data needs to be fetched and how it should be transformed" [10]|

### alternatives considered

| term           | pros                                                          | cons                                                      |
| -------------- | ------------------------------------------------------------- | --------------------------------------------------------- |
| `manifest`     | widely understood (package.json, Cargo.toml, AndroidManifest) | overloaded; every framework has a "manifest"              |
| `claim`        | assertive ("i claim i need these keys"); OIDC precedent       | OIDC "claims" are identity attributes, not requirements   |
| `prescription` | strong pharmacy parallel: repo = doctor, keyrack = pharmacist | unusual in software; may confuse                         |
| `formulary`    | pharma: approved list of medications; maps to approved keys    | too obscure; nobody outside healthcare knows this term    |
| `schedule`     | locksmith: "key schedule" = master key list for a structure    | ambiguous with time-based schedule                        |
| `manifest`     | software standard; "specifies expected structure" [9]          | generic; which manifest? there are many                   |
| `recipe`       | culinary: list of ingredients needed                           | too casual for security domain                            |

### recommendation

two strong candidates:

**option a: `manifest`** â€” the safest choice. universally understood in software. "specifies the expected structure to be consumed by another computer program" [9]. `keyrack.manifest.yml` or simply the file _is_ the keyrack manifest.

**option b: `claim`** â€” more domain-specific. the repo _claims_ it needs these credentials. each entry is a claim. the keyrack validates claims. maps to OIDC "claims" loosely, and to insurance/legal "claims" precisely: an assertion that you are entitled to access.

**option c: `prescription`** â€” the deepest metaphor. the repo _prescribes_ what credentials are needed. the keyrack _dispenses_ them. the mechanism is the _compound method_. beautiful parallel but may be too unfamiliar.

---

## 3. individual key declaration: one entry within the per-repo file

each entry in `keyrack.yml` has a `name` and a `mech`. what do we call this unit?

### parallel domain analysis

| domain        | parallel term     | what it means                                                                  |
| ------------- | ----------------- | ------------------------------------------------------------------------------ |
| locksmith     | **key spec**      | the specification for one key in a key schedule (bitt, blank type, etc)        |
| locksmith     | **key code**      | "a series of alphanumeric characters used by locksmiths to create a key" [11]  |
| pharmacy      | **line item**     | one medication entry on a prescription                                         |
| culinary      | **ingredient**    | one item in a mise en place list                                               |
| kubernetes    | **ExternalSecret**| one secret declaration with provider + key reference [10]                      |
| OIDC          | **claim**         | one assertion of identity or entitlement                                       |

### alternatives considered

| term          | pros                                                        | cons                                                    |
| ------------- | ----------------------------------------------------------- | ------------------------------------------------------- |
| `key`         | simple, maps to physical key                                | overloaded (api key, crypto key, yaml key, env var key) |
| `claim`       | assertive, maps to "i claim i need this credential"         | if `claim` is used for the file, need different term    |
| `entry`       | neutral, unambiguous                                        | generic, no domain richness                             |
| `spec`        | locksmith: key specification                                | overloaded in software (openapi spec, test spec)        |
| `requirement` | precise: declares a requirement                             | verbose                                                 |
| `slot`        | physical: a slot on the keyrack that must be filled        | novel coinage, no prior art                             |

### recommendation

depends on what we call the file (#2):

- if the file is a `manifest` â†’ each entry is a **`key`** (as in "manifest key"). the overload with env var "key" is actually a feature: `XAI_API_KEY` _is_ a key on the keyrack.
- if the file is a `claim` â†’ each entry is also a **`claim`**. "the repo claims 3 keys."
- if the file is a `prescription` â†’ each entry is a **`line`** or **`item`**. "this prescription has 3 items."

**strongest option: `key`** â€” the overload resolves naturally in context. a keyrack holds keys. a key has a name, a mechanism, and a vault. this is the most intuitive term.

---

## 4. storage backend: where credentials are persisted

the vault backends: `os.direct`, `os.secure`, `1password`.

### parallel domain analysis

| domain        | parallel term          | what it means                                                    |
| ------------- | ---------------------- | ---------------------------------------------------------------- |
| locksmith     | **key cabinet**        | secured cabinet where keys are stored, organized by label        |
| locksmith     | **safe**               | high-security storage for valuables                              |
| hotel         | **safety deposit box** | per-guest secure storage                                         |
| pharmacy      | **drug vault**         | secured storage for controlled substances                        |
| software      | **vault**              | "a secured system used to store authentication credentials in a single place" [4] |
| kubernetes    | **SecretStore**        | "defines the connection details to the external secret stores" [10] |
| aws           | **credential provider**| "implementation that uses STS to assume a Role" [12]             |

### alternatives considered

| term          | pros                                                         | cons                                                     |
| ------------- | ------------------------------------------------------------ | -------------------------------------------------------- |
| `vault`       | hashicorp precedent; strong security connotation; already used in wish | conflicts with HashiCorp Vault product name   |
| `store`       | kubernetes SecretStore precedent; neutral                    | generic, low domain richness                             |
| `safe`        | locksmith parallel; implies high security                    | may overstate security of os.direct (plaintext)          |
| `locker`      | physical parallel; per-user storage                          | less established in software                             |
| `cabinet`     | organized storage with compartments                          | too physical, awkward as `--cabinet 1password`            |
| `provider`    | aws precedent; describes the provider of values              | overloaded in rhachet (supplier pattern already uses this concept) |
| `backend`     | precise technical term                                       | generic, no metaphor                                     |
| `stash`       | colloquial for hidden storage                                | too informal for security context                        |

### recommendation

**`vault`** â€” already established in the wish. the strongest term. "a secured system used to store authentication credentials in a single place" [4]. the hashicorp conflict is manageable: hashicorp's Vault is a product name; our `vault` is a domain concept.

the three vault types read well:
- `--vault os.direct` (plaintext vault)
- `--vault os.secure` (encrypted vault)
- `--vault 1password` (remote vault)

---

## 5. resolution mechanism: how credentials are translated

the mechanism adapters: `REPLICA`, `GITHUB_APP`, `AWS_SSO`.

### parallel domain analysis

| domain        | parallel term           | what it means                                                               |
| ------------- | ----------------------- | --------------------------------------------------------------------------- |
| locksmith     | **mechanism**           | "the internal works of a lock that accept a key" â€” cylinder, pin tumbler, etc [13] |
| locksmith     | **key code â†’ bitt**     | "the key code has to be converted in order to show the bitt" [11] â€” translation from reference to usable form |
| pharmacy      | **compound (method)**   | "to combine two or more ingredients to fabricate into a single preparation" [7] |
| hotel         | **card encoder**        | the machine that writes access data onto a blank keycard                    |
| hashicorp     | **secrets engine**      | "a plugin-style component that provides the ability to generate dynamic secrets" [14] |
| aws           | **credential provider** | "uses STS to assume a Role and create temporary, short-lived sessions" [12] |
| architecture  | **credential broker**   | "a policy-aware, runtime mediator that issues scoped, short-lived credentials" [15] |

### alternatives considered

| term           | pros                                                            | cons                                                  |
| -------------- | --------------------------------------------------------------- | ----------------------------------------------------- |
| `mech`         | short, already used in wish; locksmith: lock mechanism          | abbreviation may be unclear to newcomers              |
| `mechanism`    | full form of mech; precise locksmith parallel                   | verbose for cli flags                                 |
| `resolver`     | describes what it does (resolves credentials)                   | generic verb-noun; doesn't name the _type_ of resolution |
| `adapter`      | rhachet precedent (adapter pattern); transforms shapes          | already used for a different concept in rhachet       |
| `engine`       | hashicorp: "secrets engine" [14]; evocative                     | may confuse with other "engines"                      |
| `provider`     | aws, k8s precedent                                              | overloaded in rhachet (supplier/provider)             |
| `broker`       | recent pattern: "credential broker" [15]; strong                | unfamiliar; too enterprise-y                          |
| `compounder`   | pharmacy: the pharmacist who compounds the prescription         | too obscure                                           |

### recommendation

**`mech`** (short form) / **`mechanism`** (full form) â€” already established in the wish. the locksmith parallel is perfect: a lock mechanism determines how a key is processed. a keyrack mechanism determines how a credential is resolved.

the names read well in both cli and code:
- `--mech GITHUB_APP`
- `mech: AWS_SSO`
- `KeyrackMech.REPLICA`

---

## 6. per-machine config: `~/.rhachet/keyrack.config.json`

the per-machine map of key names to vault references.

### parallel domain analysis

| domain        | parallel term    | what it means                                                     |
| ------------- | ---------------- | ----------------------------------------------------------------- |
| locksmith     | **key register** | the locksmith's record of which keys exist and where blanks are   |
| hotel         | **guest registry**| maps guests to rooms and keycards                                |
| phone         | **directory**    | maps names to phone numbers                                       |
| software      | **config**       | standard: configuration file                                      |
| rhachet       | **registry**     | already used for RoleRegistry, BrainRegistry                      |

### alternatives considered

| term         | pros                                                  | cons                                             |
| ------------ | ----------------------------------------------------- | ------------------------------------------------ |
| `config`     | universal, self-explanatory                           | generic                                          |
| `registry`   | rhachet precedent (RoleRegistry, BrainRegistry)       | may confuse with other registries                |
| `directory`  | maps names to locations; phone directory parallel     | overloaded (filesystem directory)                |
| `index`      | maps keys to locations; book index parallel           | overloaded (database index, array index)         |
| `ledger`     | finance: record of all transactions                   | implies history, which this isn't                |

### recommendation

**`config`** â€” the simplest, most intuitive term. `keyrack.config.json` reads clearly. "the keyrack config on this machine maps keys to vaults."

alternatively, **`registry`** would align with rhachet patterns (`RoleRegistry`, `BrainRegistry` â†’ `KeyrackRegistry` or `VaultRegistry`). but "config" is simpler and avoids confusion with the role/brain registries.

---

## 7. individual config entry: one key â†’ vault map

### parallel domain analysis

| domain        | parallel term      | what it means                                         |
| ------------- | ------------------ | ----------------------------------------------------- |
| locksmith     | **key record**     | one record in the key register                        |
| phone         | **contact**        | one entry in a phone directory                        |
| database      | **row** / **record**| one entry in a table                                 |

### recommendation

**`entry`** â€” simple and correct. "one entry in the keyrack config."

in code: the config is a `Record<string, KeyrackConfigEntry>` where each entry maps a key name to `{ vault, createdAt, updatedAt }`.

---

## 8. the resolved credential value: what gets exported to env

this is the short-lived, safe value that the firewall exports. "credentials go in. only keycards come out."

### parallel domain analysis

| domain        | parallel term      | what it means                                                                   |
| ------------- | ------------------ | ------------------------------------------------------------------------------- |
| locksmith     | **cut key**        | a key blank that has been bitted to operate a specific lock [11]                |
| hotel         | **keycard**        | "a credit card-sized access tool that lets guests into their rooms" [16]        |
| airport       | **pass**           | scoped, time-limited authorization to board                                     |
| hashicorp     | **lease**          | "leases on ephemeral accounts that are automatically deleted once the TTL expires" [14] |
| hashicorp     | **token**          | "like a room keyâ€”once authenticated, you use that token to access" [14]         |
| aws           | **session token**  | "only needed when you use temporary credentials" [12]                           |
| authorization | **grant**          | the result of authorization: permission granted                                 |

### alternatives considered

| term          | pros                                                               | cons                                                  |
| ------------- | ------------------------------------------------------------------ | ----------------------------------------------------- |
| `grant`       | already used in vision ("ðŸ”‘ granted"); auth semantics              | noun form is slightly unusual ("a grant")             |
| `keycard`     | hotel parallel; already in vision tagline; scoped, time-limited    | novel coinage for software; no prior art              |
| `token`       | industry standard for short-lived credentials                      | overloaded (jwt token, oauth token, session token...) |
| `lease`       | hashicorp precedent; implies time-bounded nature explicitly        | less intuitive than "grant" for non-vault users       |
| `pass`        | airport pass parallel; short-lived, scoped                         | too casual; overloaded (password, pass-through)       |
| `cutKey`      | locksmith: a blank that's been cut to specification                | beautiful metaphor but too novel for software         |

### recommendation

two strong candidates:

**option a: `grant`** â€” already the verb in the vision ("ðŸ”‘ granted"). as a noun: "the keyrack produced 3 grants." maps to authorization semantics. the keyrack _grants_ access.

**option b: `keycard`** â€” the strongest metaphor. "credentials go in. only keycards come out." a keycard is:
- short-lived (hotel keycards expire at checkout)
- scoped (only opens your room, not all rooms)
- derived (encoded from your reservation, not a copy of the master key)

this is exactly what the keyrack produces. but it's a novel coinage with no prior art in software.

**option c: `lease`** â€” hashicorp precedent: "leases on ephemeral accounts that are automatically deleted once the TTL expires" [14]. strong for time-bounded semantics. "the keyrack issued a lease for XAI_API_KEY." but feels too enterprise for a cli tool.

---

## 9. the resolution action: the verb for what the firewall does

### parallel domain analysis

| domain        | parallel verb    | what it means                                                            |
| ------------- | ---------------- | ------------------------------------------------------------------------ |
| locksmith     | **cut**          | "the bitt instructs a locksmith how to cut a certain key" [11]           |
| pharmacy      | **dispense**     | "delivery of a drug to an ultimate user pursuant to the lawful order" [7]|
| pharmacy      | **compound**     | "to combine ingredients to fabricate into a single preparation" [7]      |
| hotel         | **encode**       | write access data onto a blank keycard                                   |
| hashicorp     | **issue**        | issue a lease for a dynamic secret                                       |
| general       | **resolve**      | already used in vision: "resolves long-lived into shortest-lived form"   |
| general       | **mint**         | already used in vision: "mints a fresh 1-hour token"                     |
| general       | **grant**        | already used in vision: "ðŸ”‘ granted"                                     |

### alternatives considered

| term       | pros                                                        | cons                                               |
| ---------- | ----------------------------------------------------------- | -------------------------------------------------- |
| `resolve`  | already used in vision; clear, precise                      | generic verb; doesn't evoke the security domain    |
| `mint`     | already used in vision; strong coinage metaphor             | primarily associated with currency, not credentials|
| `grant`    | auth semantics; already in the status system                | overloaded as both verb and noun                   |
| `dispense` | pharmacy: the pharmacist dispenses the prescription         | unusual in software; strong but unfamiliar         |
| `cut`      | locksmith: cut a key to specification                       | too physical; "cut a credential" sounds wrong      |
| `issue`    | hashicorp, government: issue a credential                   | formal; works well                                 |
| `encode`   | hotel: encode a keycard                                     | too implementation-specific                        |

### recommendation

**`resolve`** for the overall action (the firewall resolves credentials), **`grant`** for the outcome (the credential is granted).

the vision already established this pair naturally:
- "the keyrack **resolves** all of them into short-lived tokens"
- "each key reports status: ðŸ”‘ **granted**"

---

## 10. status of a credential: the state enum

already established in the vision with strong emoji signifiers:

| status       | emoji | what it means                                              |
| ------------ | ----- | ---------------------------------------------------------- |
| `granted`    | ðŸ”‘     | credential resolved and available                          |
| `notFound`   | ðŸ«§     | key not configured on this machine                         |
| `locked`     | ðŸ”’     | vault requires unlock before credential can be retrieved   |
| `blocked`    | ðŸš«     | credential violates declared mechanism (e.g., ghp_ for GITHUB_APP) |

### analysis

the vision's status system is well-designed. the only term to scrutinize is `notFound` vs alternatives:

| term          | pros                                       | cons                                   |
| ------------- | ------------------------------------------ | -------------------------------------- |
| `notFound`    | self-explanatory                           | double-word                            |
| `absent`      | concise; clear                             | less common in software                |
| `unconfigured`| precise: the key is present but isn't set up| verbose                               |
| `unset`       | the key hasn't been set yet                | could imply it was removed             |

### recommendation

**keep the vision's terms**: `granted`, `notFound`, `locked`, `blocked`. the terms are clear, the emojis are memorable, and they're already established.

note: `notFound` is acceptable â€” "found" here is a past participle, not a gerund. the phrase "not found" is standard software terminology (HTTP 404).

---

## domain object relationships

### treestruct

```
Keyrack (the system/firewall)
â”‚
â”œâ”€â”€ KeyrackManifest (.agent/keyrack.yml â€” per repo)
â”‚   â””â”€â”€ KeyrackKey[] (individual declarations)
â”‚       â”œâ”€â”€ name: string (e.g., "XAI_API_KEY")
â”‚       â””â”€â”€ mech: KeyrackMech (e.g., REPLICA, GITHUB_APP, AWS_SSO)
â”‚
â”œâ”€â”€ KeyrackConfig (~/.rhachet/keyrack.config.json â€” per machine)
â”‚   â””â”€â”€ KeyrackConfigEntry[] (individual vault references)
â”‚       â”œâ”€â”€ name: string
â”‚       â”œâ”€â”€ vault: KeyrackVault
â”‚       â””â”€â”€ timestamps
â”‚
â”œâ”€â”€ KeyrackVault (storage backend â€” adapter interface)
â”‚   â”œâ”€â”€ os.direct  â†’ VaultDirect
â”‚   â”œâ”€â”€ os.secure  â†’ VaultSecure
â”‚   â””â”€â”€ 1password  â†’ Vault1Password
â”‚
â”œâ”€â”€ KeyrackMech (resolution mechanism â€” adapter interface)
â”‚   â”œâ”€â”€ REPLICA   â†’ MechLonglived (pass-through)
â”‚   â”œâ”€â”€ GITHUB_APP  â†’ MechGithubApp (json blob â†’ ghs_ token)
â”‚   â””â”€â”€ AWS_SSO     â†’ MechAwsSso (profile â†’ session credentials)
â”‚
â””â”€â”€ KeyrackGrant (resolved credential output)
    â”œâ”€â”€ key: string
    â”œâ”€â”€ status: granted | notFound | locked | blocked
    â”œâ”€â”€ value: string | null (the short-lived token, if granted)
    â””â”€â”€ message: string | null (fix command, if not granted)
```

### dependency flow

```
KeyrackManifest (declares what is needed)
        â”‚
        â–¼ (cross-reference)
KeyrackConfig (declares where each key is stored)
        â”‚
        â–¼ (retrieves raw credential)
KeyrackVault (storage backends)
        â”‚
        â–¼ (translates to short-lived form)
KeyrackMech (resolution mechanisms)
        â”‚
        â–¼ (produces)
KeyrackGrant (resolved output)
```

### subdomain analysis

| subdomain       | objects                              | responsibility                         |
| --------------- | ------------------------------------ | -------------------------------------- |
| **declaration** | KeyrackManifest, KeyrackKey        | per-repo: what credentials are needed  |
| **config**      | KeyrackConfig, KeyrackConfigEntry  | per-machine: where credentials live    |
| **vault**       | KeyrackVault (+ adapters)           | storage: retrieve raw credentials      |
| **mechanism**   | KeyrackMech (+ adapters)            | translation: raw â†’ short-lived         |
| **resolution**  | KeyrackGrant                        | output: the resolved credential status |

---

## cross-domain metaphor map

the keyrack maps coherently to multiple physical domains:

| keyrack concept    | locksmith              | pharmacy               | hotel                 |
| ------------------- | ---------------------- | ---------------------- | --------------------- |
| keyrack (system)   | key ring               | dispensary             | front desk            |
| manifest            | key schedule           | prescription           | guest reservation     |
| key (declaration)   | key code               | line item              | room assignment       |
| vault               | key cabinet / safe     | drug vault             | safety deposit box    |
| mech                | lock mechanism         | compound method        | card encoder type     |
| config              | key register           | patient chart          | guest registry        |
| grant               | cut key                | dispensed medication   | encoded keycard       |
| resolve (verb)      | cut a key              | dispense               | encode a keycard      |

### the locksmith metaphor is deepest

the locksmith domain provides the richest parallel:

1. a **key schedule** declares all keys needed for a structure (= manifest declares all keys needed for a repo)
2. a **key code** is the reference used to create a key (= a credential name + mechanism reference)
3. the locksmith **cuts** a blank to specification (= the keyrack resolves raw credentials to short-lived form)
4. the **cut key** operates the lock (= the granted token authenticates to the service)
5. keys are stored in a **key cabinet** (= credentials are stored in vaults)
6. the **lock mechanism** determines what key shape is accepted (= the mechanism determines what credential form is accepted)
7. a **master key** opens all locks (= overloaded, but analogous to admin credentials)

### the pharmacy metaphor is most complete for the firewall concept

1. a **prescription** declares what medications are needed (= manifest declares what credentials are needed)
2. the pharmacist **compounds** raw ingredients into the final form (= the mechanism translates raw credentials)
3. the pharmacist **dispenses** the prepared medication (= the keyrack grants the resolved credential)
4. a **formulary** lists approved medications (= the manifest lists approved mechanisms)
5. the pharmacy refuses to dispense **contraband** (= the keyrack blocks long-lived pats)
6. medications are stored in a **drug vault** (= credentials are stored in vaults)

---

## summary: proposed term options

| concept              | option a (recommended)  | option b                | option c               |
| -------------------- | ----------------------- | ----------------------- | ---------------------- |
| the system           | **keyrack**            | keyring                 | credentialFirewall     |
| per-repo declaration | **manifest**            | claim                   | prescription           |
| individual key decl  | **key**                 | claim                   | slot                   |
| storage backend      | **vault**               | store                   | safe                   |
| resolution mechanism | **mech** / mechanism    | engine                  | resolver               |
| per-machine config   | **config**              | registry                | directory              |
| config entry         | **entry**               | record                  | bind                   |
| resolved credential  | **grant**               | keycard                 | lease                  |
| resolution verb      | **resolve**             | dispense                | cut                    |
| status enum          | **granted/notFound/locked/blocked** | (established) | â€”                  |

### the recommended set reads as:

> a **keyrack** reads a **manifest** of **keys**, checks the **config** for each key's **vault**, retrieves raw credentials from the vault, uses the declared **mech** to **resolve** each credential, and produces a **grant** for each key.

---

## citations

1. [Cambridge Dictionary: keyrack](https://dictionary.cambridge.org/dictionary/english/keyrack) â€” "a number of metal rings connected together, used for [to hold] your keys together"
2. [Wikipedia: Keyrack (software)](https://en.wikipedia.org/wiki/Keyrack_(software)) â€” "the macOS credential management system that stores account names, passwords, private keys, certificates"
3. [keyring R package](https://keyring.r-lib.org/) â€” "a keyring is a collection of keys that can be treated as a unit"
4. [Imprivata: Credential Vault](https://www.imprivata.com/knowledge-hub/credential-vault) â€” "a secured system used to store authentication credentials in a single place"
5. [Key-En-Lock: Locksmith Terminology](https://keyenlock.com/locksmith-terminology/) â€” locksmith professional dictionary with key schedule, master key, key cabinet terms
6. [Wikipedia: Formulary (pharmacy)](https://en.wikipedia.org/wiki/Formulary_(pharmacy)) â€” "a list of pharmaceutical drugs, often decided upon by a group of people"
7. [Wikipedia: Pharmaceutical compound](https://en.wikipedia.org/wiki/Compounding) â€” "to combine two or more ingredients to fabricate into a single preparation"; dispense = "delivery of a drug to an ultimate user pursuant to the lawful order of a practitioner"
8. [JWU: What Is Mise en Place](https://online.jwu.edu/blog/what-is-mise-en-place-the-key-to-culinary-organization/) â€” "[to assemble and set up] all that is required to prepare a dish"
9. [Wikipedia: Manifest file](https://en.wikipedia.org/wiki/Manifest_file) â€” "specifies the expected structure of a computer program to be consumed by another computer program"
10. [Apptio: Kubernetes External Secrets](https://www.apptio.com/topics/kubernetes/devops-tools/external-secrets/) â€” "SecretStore defines the connection details to the external secret stores"; "ExternalSecret defines what data needs to be fetched"
11. [Wikipedia: Key code](https://en.wikipedia.org/wiki/Key_code) â€” "a series of alphanumeric characters used by locksmiths to create a key"; "the key code has to be converted in order to show the bitt"
12. [AWS: Assume role credential provider](https://docs.aws.amazon.com/sdkref/latest/guide/feature-assume-role-credentials.html) â€” "uses STS to assume a Role and create temporary, short-lived sessions"
13. [Mr Locksmith: Glossary](https://www.mrlocksmithtraining.com/glossary/) â€” locksmith professional glossary with mechanism, tumbler, ward, bitt definitions
14. [HashiCorp Vault: Secrets Engines](https://developer.hashicorp.com/vault/docs/secrets) â€” "a plugin-style component that provides the ability to generate dynamic secrets"; "leases on ephemeral accounts automatically deleted once the TTL expires"
15. [arXiv: Credential Broker Patterns](https://arxiv.org/html/2504.14761v1) â€” "a policy-aware, runtime mediator that sits between workload identity and access... issues scoped, short-lived credentials"
16. [Kisi: How Hotel Key Cards Work](https://www.getkisi.com/blog/how-do-hotel-key-cards-work) â€” "a credit card-sized access tool that lets guests into their rooms"
